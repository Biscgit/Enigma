include: "/.ci/ci-templates.yml"

scan-backend:
  extends: .scan_image
  variables:
    DOCKERPATH: "backend"

scan-frontend:
  extends: .scan_image
  variables:
    DOCKERPATH: "frontend"

lint-frontend:
  stage: linter
  image: registry.mygit.th-deg.de/ts19084/enigma/flutter-builder:latest
  before_script:
    - cd frontend
    - flutter pub get
  script:
    - flutter analyze
  allow_failure: true

lint-backend:
  stage: linter
  image: registry.mygit.th-deg.de/ts19084/enigma/python-tester-linter:latest
  before_script:
    - cd backend/
  script:
    - python3 -m ruff check
  allow_failure: true
